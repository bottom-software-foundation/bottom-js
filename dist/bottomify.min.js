"use strict";var __read=this&&this.__read||function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var t,o,a=n.call(r),c=[];try{for(;(void 0===e||0<e--)&&!(t=a.next()).done;)c.push(t.value)}catch(r){o={error:r}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return c},__spread=this&&this.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read(arguments[e]));return r};Object.defineProperty(exports,"__esModule",{value:!0});var CHARACTER_VALUES=[[200,"🫂"],[50,"💖"],[10,"✨"],[5,"🥺"],[1,","],[0,"❤️"]],SECTION_SEPERATOR="👉👈",FINAL_TERMINATOR=new RegExp("("+SECTION_SEPERATOR+")?$");function textEncoder(){try{return new TextEncoder}catch(r){return new(require("util").TextEncoder)}}function encodeChar(e){if(0===e)return"";var r=__read(CHARACTER_VALUES.find(function(r){return __read(r,1)[0]<=e})||CHARACTER_VALUES[-1],2),n=r[0];return""+r[1]+encodeChar(e-n)}function encode(r){return Array.from(textEncoder().encode(r)).map(function(r){return encodeChar(r)+SECTION_SEPERATOR}).join("")}function decode(r){return String.fromCodePoint.apply(String,__spread(r.trim().replace(FINAL_TERMINATOR,"").split(SECTION_SEPERATOR).map(function(r){return Array.from(r).map(function(n){var r=__read(CHARACTER_VALUES.find(function(r){var e=__read(r,2);e[0];return e[1]==n})||[-1,""],2),e=r[0];if(!r[1])throw new Error("Invalid bottom text: '"+n+"'");return e}).reduce(function(r,e){return r+e})})))}exports.encode=encode,exports.decode=decode;