"use strict";var __read=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,c=t.call(e),d=[];try{for(;(void 0===r||0<r--)&&!(n=c.next()).done;)d.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=c.return)&&t.call(c)}finally{if(o)throw o.error}}return d};Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=exports.encode=void 0;var CHARACTER_VALUES=[[200,"🫂"],[50,"💖"],[10,"✨"],[5,"🥺"],[1,","],[0,"❤️"]],SECTION_SEPERATOR="👉👈",FINAL_TERMINATOR=new RegExp("("+SECTION_SEPERATOR+")?$");function textEncoder(){try{return new TextEncoder}catch(e){return new(require("util").TextEncoder)}}function textDecoder(){try{return new TextDecoder}catch(e){return new(require("util").TextDecoder)}}function encodeChar(r){if(0===r)return"";var e=__read(CHARACTER_VALUES.find(function(e){return __read(e,1)[0]<=r})||CHARACTER_VALUES[-1],2),t=e[0];return""+e[1]+encodeChar(r-t)}function encode(e){return Array.from(textEncoder().encode(e)).map(function(e){return encodeChar(e)+SECTION_SEPERATOR}).join("")}function decode(e){return textDecoder().decode(Uint8Array.from(e.trim().replace(FINAL_TERMINATOR,"").split(SECTION_SEPERATOR).map(function(e){return Array.from(e).map(function(t){var e=__read(CHARACTER_VALUES.find(function(e){var r=__read(e,2);r[0];return r[1]==t})||[-1,""],2),r=e[0];if(!e[1])throw new TypeError("Invalid bottom text: '"+t+"'");return r}).reduce(function(e,r){return e+r})})))}exports.encode=encode,exports.decode=decode,console.log(decode(encode("Привет!")));